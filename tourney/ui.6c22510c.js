import{jsx as e,jsxs as r,Fragment as t}from"react/jsx-runtime";import n,{useState as a}from"react";import o from"react-dom/client";import i from"roundrobin";function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(r){var n;n=t[r],r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n})}return e}function u(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):(function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t})(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}function d(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function s(e,r){if(e){if("string"==typeof e)return d(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(e,r)}}function c(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(t=a.next()).done)&&(o.push(t.value),!r||o.length!==r);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw n}}return o}}(e,r)||s(e,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h={marginTop:"15px",padding:"10px",border:"1px solid #ddd",borderRadius:"4px"},f=function(t){var n=t.schedule,a=t.title;return n?r("div",{style:h,children:[e("h3",{children:a}),r("p",{children:["Type: ",n.type]}),r("p",{children:["Games: ",n.games]}),null!=n.areas&&r("p",{children:["Areas: ",n.areas]})]}):r("div",{style:h,children:[e("h3",{children:a}),e("p",{children:"No schedule data available."})]})};function m(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p={width:"100%",borderCollapse:"collapse",marginTop:"10px"},y={border:"1px solid #ddd",padding:"8px",textAlign:"left",backgroundColor:"#f2f2f2"},v={border:"1px solid #ddd",padding:"8px",textAlign:"left"},g=function(e,r){if(!e||0===e.length||0===r)return[];var t=[];return e.forEach(function(e,n){if(0!==e.length){var a=Array.from({length:r},function(){return[]});e.forEach(function(e,t){a[t%r].push(e)});var o=(c=Math).max.apply(c,m(a.map(function(e){return e.length})));if(0!==o)for(var i=0;i<o;i++){for(var l="",u={},d=0;d<r;d++){var s=null==(h=a[d])?void 0:h[i];if(s){""===l&&(l=s.round),u[`area${d+1}GameId`]=s.id;var c,h,f,p,y=s.teams[0],v=s.teams[1];u[`area${d+1}Team1`]=y,u[`area${d+1}Team2`]=v,u[`area${d+1}Team1_isB2B`]=!!(null==(f=s.backToBackTeams)?void 0:f.includes(y)),u[`area${d+1}Team2_isB2B`]=!!(null==(p=s.backToBackTeams)?void 0:p.includes(v))}else u[`area${d+1}GameId`]="",u[`area${d+1}Team1`]="",u[`area${d+1}Team2`]="",u[`area${d+1}Team1_isB2B`]=!1,u[`area${d+1}Team2_isB2B`]=!1}u.round=""!==l?l:n+1,t.push(u)}}}),t},b=function(t){var a=t.scheduleData,o=t.actualAreas;if(!a||0===a.length||o<=1)return e("p",{children:"Horizontal combined view is not applicable for this schedule."});var i=g(a,o);if(0===i.length)return e("p",{children:"No games to display in combined horizontal view."});for(var d=["Round"],s=1;s<=o;s++)d.push(`Area ${s}: Game ID`),d.push(`Area ${s}: Team 1 (Black)`),d.push(`Area ${s}: Team 2 (White)`);return r("div",{children:[e("h4",{children:"Full Game Schedule (Combined Horizontal View)"}),r("div",{style:{overflowX:"auto"},children:[" ",r("table",{style:p,children:[e("thead",{children:e("tr",{children:d.map(function(r){return e("th",{style:y,children:r},r)})})}),e("tbody",{children:i.map(function(t,a){return r("tr",{children:[e("td",{style:v,children:t.round}),Array.from({length:o}).map(function(a,o){var i=t[`area${o+1}Team1_isB2B`]?u(l({},v),{color:"red"}):v,d=t[`area${o+1}Team2_isB2B`]?u(l({},v),{color:"red"}):v;return r(n.Fragment,{children:[e("td",{style:v,children:t[`area${o+1}GameId`]}),e("td",{style:i,children:t[`area${o+1}Team1`]}),e("td",{style:d,children:t[`area${o+1}Team2`]})]},`hcell-area-${o}`)})]},`hrow-${a}`)})})]})]})]})},T={width:"100%",borderCollapse:"collapse",marginTop:"10px"},x={border:"1px solid #ddd",padding:"8px",textAlign:"left",backgroundColor:"#f2f2f2"},S={border:"1px solid #ddd",padding:"8px",textAlign:"left"},A={backgroundColor:"#f9f9f9"},$=function(t){var n=t.games,a=t.areaTitle;return n&&0!==n.length?r("table",{style:T,children:[e("thead",{children:r("tr",{children:[e("th",{style:x,children:"Round"}),e("th",{style:x,children:"Game ID"}),e("th",{style:x,children:"Team 1 (Black)"}),e("th",{style:x,children:"Team 2 (White)"})]})}),e("tbody",{children:n.map(function(t,n){var a,o;return r("tr",{style:n%2!=0?A:void 0,children:[e("td",{style:S,children:t.round}),e("td",{style:S,children:t.id}),e("td",{style:(null==(a=t.backToBackTeams)?void 0:a.includes(t.teams[0]))?u(l({},S),{color:"red"}):S,children:t.teams[0]}),e("td",{style:(null==(o=t.backToBackTeams)?void 0:o.includes(t.teams[1]))?u(l({},S),{color:"red"}):S,children:t.teams[1]})]},`${t.id}-${n}`)})})]}):r("p",{children:["No games scheduled ",a?`for ${a}`:"","."]})},w=function(n){var a,o=n.scheduleData,i=n.actualAreas;return o&&0!==o.length?e(t,{children:i>1&&Array.isArray(o[0])?r("div",{children:[e("h4",{children:"Full Game Schedule (Per Area):"}),(a=Array.from({length:i},function(){return[]}),o.forEach(function(e){e.forEach(function(e,r){var t=r%i;t<i&&a[t].push(e)})}),a.map(function(t,n){return r("div",{style:{marginBottom:"20px"},children:[r("h5",{children:["Schedule for Area ",n+1]}),e($,{games:t,areaTitle:`Area ${n+1}`})]},`area-sched-${n}`)}))]}):r("div",{children:[r("h4",{children:["Full Game Schedule"," ",1!==i||Array.isArray(o[0])?"":"(Single Area)"]}),e($,{games:Array.isArray(o[0])?o.flat():o})]})}):e("p",{children:"No games in this schedule."})},B={marginTop:"15px",padding:"10px",border:"1px solid #ddd",borderRadius:"4px"},k=function(t){var a=t.schedule,o=t.actualAreas,i=t.showHorizontalCombinedView,l=t.onToggleHorizontalView,u=t.numAreasForToggle,d=n.useMemo(function(){return!!a&&0!==a.length&&(Array.isArray(a[0])?a.some(function(e){return e.some(function(e){return e.backToBackTeams&&e.backToBackTeams.length>0})}):a.some(function(e){return e.backToBackTeams&&e.backToBackTeams.length>0}))},[a]),s=a&&a.length>0&&o>1&&Array.isArray(a)&&Array.isArray(a[0]);return a&&0!==a.length?r("div",{style:B,children:[d&&e("p",{style:{color:"#D8000C",backgroundColor:"#FFD2D2",border:"1px solid #FFBABA",padding:"10px",marginTop:"0px",marginBottom:"15px",borderRadius:"4px",textAlign:"center"},children:"Teams highlighted in red are playing back-to-back games."}),e("div",{children:r("label",{children:[e("input",{type:"checkbox",checked:i,onChange:function(e){return l(e.target.checked)},disabled:u<=1||!s}),"Show Combined Horizontal View"]})}),i&&s?e(b,{scheduleData:a,actualAreas:o}):e(w,{scheduleData:a,actualAreas:o})]}):e("div",{style:B,children:e("p",{children:"No games in this schedule."})})},M=function(t){var n=t.results,o=t.error,i=c(a(!1),2),l=i[0],u=i[1];return o?r("div",{style:{color:"red",marginTop:"20px",padding:"10px",border:"1px solid red"},children:["Error: ",o]}):n?r("div",{style:{marginTop:"20px"},children:[e("h2",{children:"Results"}),r("div",{style:{marginTop:"15px",padding:"10px",border:"1px solid #ddd",borderRadius:"4px"},children:[e("h3",{children:"Overall"}),r("p",{children:["Total Time Needed: ",function(e){if(e<0)return"Invalid input";if(0===e)return"0 minutes";var r=Math.floor(e/1440),t=e%1440,n=Math.floor(t/60),a=t%60,o=[];return(r>0&&o.push(`${r} day${r>1?"s":""}`),n>0&&o.push(`${n} hour${n>1?"s":""}`),a>0&&o.push(`${a} minute${a>1?"s":""}`),0===o.length&&e>0)?`${e} minute${e>1?"s":""}`:o.join(" ")}(n.timeNeededMinutes)]})]}),e(f,{title:"Tournament Schedule",schedule:n.tourneySchedule}),e(f,{title:"Playoff Schedule",schedule:n.playoffSchedule}),e(k,{schedule:n.schedule,actualAreas:n.tourneySchedule.areas||1,numAreasForToggle:n.tourneySchedule.areas||1,showHorizontalCombinedView:l,onToggleHorizontalView:u})]}):e("div",{style:{marginTop:"20px"},children:"Submit the form to see results."})},P=function(t){var n=t.onSubmit,o=t.defaultValues,i=c(a(o.teams||""),2),l=i[0],u=i[1],d=c(a(o.gameTime||33),2),s=d[0],h=d[1],f=c(a(o.restTime||7),2),m=f[0],p=f[1],y=c(a(o.areas||1),2),v=y[0],g=y[1],b=c(a(o.playoffTime||33),2),T=b[0],x=b[1],S=c(a(o.playoffRestTime||12),2),A=S[0],$=S[1],w=c(a(o.schedulingStrategy||"round-robin"),2),B=w[0],k=w[1],M=c(a(o.numGamesPerTeam||""),2),P=M[0],E=M[1],R={marginBottom:"10px",display:"flex",alignItems:"center"},O={marginRight:"10px",minWidth:"150px"},j={padding:"5px",border:"1px solid #ccc",borderRadius:"4px"};return r("form",{onSubmit:function(e){e.preventDefault();var r="string"==typeof l?parseInt(l,10):l;if(isNaN(r))return void alert("Please enter a valid number for teams.");var t={teams:r,gameTime:s,restTime:m,areas:v,playoffTime:T,playoffRestTime:A,schedulingStrategy:B};if("partial-round-robin"===B){var a="string"==typeof P?parseInt(P,10):P;if(isNaN(a)||a<=0)return void alert("Please enter a valid number of games per team for partial round robin.");t.numGamesPerTeam=a}n(t)},style:{marginBottom:"20px",padding:"20px",border:"1px solid #eee",borderRadius:"5px"},children:[e("h2",{children:"Tournament Options"}),r("div",{style:R,children:[e("label",{style:O,htmlFor:"teams",children:"Number of Teams:"}),e("input",{style:j,type:"number",id:"teams",value:l,onChange:function(e){return u(""===e.target.value?"":parseInt(e.target.value,10))},required:!0,min:"0"})]}),r("div",{style:R,children:[e("label",{style:O,htmlFor:"schedulingStrategy",children:"Scheduling Strategy:"}),r("select",{style:j,id:"schedulingStrategy",value:B,onChange:function(e){return k(e.target.value)},children:[e("option",{value:"round-robin",children:"Round Robin (Full)"}),e("option",{value:"partial-round-robin",children:"Partial Round Robin"}),e("option",{value:"pods",children:"Pods"})]})]}),"partial-round-robin"===B&&r("div",{style:R,children:[e("label",{style:O,htmlFor:"numGamesPerTeam",children:"Games Per Team (Partial RR):"}),e("input",{style:j,type:"number",id:"numGamesPerTeam",value:P,onChange:function(e){return E(""===e.target.value?"":parseInt(e.target.value,10))},min:"1",required:"partial-round-robin"===B})]}),r("div",{style:R,children:[e("label",{style:O,htmlFor:"gameTime",children:"Game Time (min):"}),e("input",{style:j,type:"number",id:"gameTime",value:s,onChange:function(e){return h(parseInt(e.target.value,10))},required:!0,min:"1"})]}),r("div",{style:R,children:[e("label",{style:O,htmlFor:"restTime",children:"Rest Time (min):"}),e("input",{style:j,type:"number",id:"restTime",value:m,onChange:function(e){return p(parseInt(e.target.value,10))},required:!0,min:"0"})]}),r("div",{style:R,children:[e("label",{style:O,htmlFor:"areas",children:"Playing Areas:"}),e("input",{style:j,type:"number",id:"areas",value:v,onChange:function(e){return g(parseInt(e.target.value,10))},required:!0,min:"1"})]}),r("div",{style:R,children:[e("label",{style:O,htmlFor:"playoffTime",children:"Playoff Game Time (min):"}),e("input",{style:j,type:"number",id:"playoffTime",value:T,onChange:function(e){return x(parseInt(e.target.value,10))},required:!0,min:"1"})]}),r("div",{style:R,children:[e("label",{style:O,htmlFor:"playoffRestTime",children:"Playoff Rest Time (min):"}),e("input",{style:j,type:"number",id:"playoffRestTime",value:A,onChange:function(e){return $(parseInt(e.target.value,10))},required:!0,min:"0"})]}),e("button",{type:"submit",style:{padding:"10px 15px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Calculate Schedule"})]})},E=function(e){var r,t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&arguments[3],void 0===e)throw RangeError("Invalid array length");if(e<2)return{schedule:[],games:0,teams:1===e?1===n.length?n:[1]:[],type:"round robin"};var a=n.length===e?n:Array.from({length:e},function(e,r){return r+1});if("function"==typeof i)t=i;else if(i&&"function"==typeof i.default)t=i.default;else throw Error("Roundrobin scheduler could not be loaded correctly.");var o=t(e,a).map(function(e,r){var t=[];if(e.forEach(function(e,n){e&&e.length>=2&&t.push({id:`g${r}-${n}`,round:r+1,teams:[e[0],e[1]]})}),a.length%2!=0&&e.length===(a.length-1)/2){var n=new Set;e.forEach(function(e){e&&e.forEach(function(e){return n.add(e)})});var o=!0,i=!1,l=void 0;try{for(var u,d=a[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){var s=u.value;if(!n.has(s)){var c=a.length+r;t.push({id:`b${r}-${c}`,round:r+1,teams:[s],isByeMatch:!0});break}}}catch(e){i=!0,l=e}finally{try{o||null==d.return||d.return()}finally{if(i)throw l}}}return t}).map(function(e,r){return e.filter(function(e){return null!==e}).map(function(e){var t={id:e.id||`g${r}-${e.teams&&e.teams.join?e.teams.join(""):Math.random()}`,round:e.round||r+1,teams:e.teams||[]};return e.isByeMatch&&(t.isByeMatch=!0),t})}).flat(1),l=o.filter(function(e){return!e.isByeMatch}).length;return{schedule:o,games:l,teams:a.slice(0,e),type:"round robin"}},R=function(e){if(null==e)throw Error("You must provide either the number of teams or a list of team names");var r,t=[];if("number"==typeof e){(r=e)<0&&(r=0);for(var n=1;n<=r;n++)t.push(n)}else Array.isArray(e)?(t=e,r=e.length):(r=0,t=[]);return{names:t,teams:r}},O=function(e,r){if(void 0===e||void 0===r||!Array.isArray(e))throw Error("Invalid arguments for teamsInPods: required parameters are missing or invalid.");var t=e.length,n=Math.floor(t/r),a=t%r>0?n+1:n;return r<=0?{}:e.reduce(function(e,r,t){var n;return e[n=0===a?"1":String(Math.floor(t%a)+1)]||(e[n]=[]),e[n].push(r),e},{})},j=function(e){var r=e%100;return r>3&&r<21?"th":["th","st","nd","rd"][r%10]||"th"},I=function(e,r,t){for(var n=[],a=0;a<e;a++)n[a]=[];for(var o=1;o<=r;o++){var i=String(o),l=t[i];if(l)for(var u=l.length,d=0;d<u;d++)n[d]&&n[d].push(`${d+1}${j(d+1)} Pod ${i}`)}return n},C=function(e){if(0===e.length)return e;var r=e.pop();return r&&(1===r.length&&e.length>0?e[e.length-1].push(r[0]):e.push(r)),e},G=function(e){if(!e||0===Object.keys(e).length)return[];var r,t=[],n=Object.values(e),a=Object.keys(e).length,o=n.map(function(e){return e.length}),i=0===o.length?-1/0:(r=Math).max.apply(r,m(o));return i!==-1/0&&a>=2&&(t=I(i,a,e)).length>0&&C(t),t},D=function(e){var r=[];return e.forEach(function(e,t){var n=E(e.length,e,!1),a=u(l({},n),{title:`Division ${t+1}`,type:"division",division:t+1,schedule:n.schedule||[]});a.schedule.forEach(function(e){e.id=`Div ${t+1} Game ${e.id}`}),r.push(a)}),r},F=function(e){var r=function(r){if(Object.prototype.hasOwnProperty.call(e,r)){var n=e[r],a=E(n.length,n,!1),o=u(l({},a),{title:`Pod ${r}`,type:"pod",pod:r,schedule:a.schedule||[]});o.schedule.forEach(function(e){e.id=`Pod ${r} Game ${e.id}`}),t.push(o)}},t=[];for(var n in e)r(n);return t},N=function(e){if(!e||e.length<2)return[];var r=[],t=e.length;if(t>1){for(var n=(t-1)*2,a=0;a<n;a++)r[a]={id:`crossover-${a}`,teams:[],round:1};for(var o=1;o<t;o++){var i=e[o-1].length,l=(o-1)*2,u=r[l],d=r[l+1];u.id=`Div ${o}/${o+1} <-1->`,d.id=`Div ${o}/${o+1} <-2->`,u.teams.push(`${i-1}${j(i-1)} Div ${o}`),u.teams.push(`2nd Div ${o+1}`),d.teams.push(`${i}${j(i)} Div ${o}`),d.teams.push(`1st Div ${o+1}`)}}return r},z=function(e){return e.reduce(function(e,r){return e+r.games},0)},Y=function(e){return e.map(function(e){return e.schedule}).flat(1).sort(function(e,r){var t="number"==typeof e.round?e.round:1/0,n="number"==typeof r.round?r.round:1/0;return t===1/0&&n===1/0?0:t-n})},q=function(e){var r=R(e),t=r.teams,n=r.names;if(t<2)return{games:0,schedule:[],divisions:[],pods:1===t?O(n,1):{}};var a=O(n,4),o=G(a),i=F(a),l=D(o),u=N(o),d=z(i),s=z(l),c=u.length,h=Y(i),f=Y(l);return{games:d+s+c,schedule:h.concat(f,u),divisions:o,pods:a}},V=function(e){var r,t,n=e.teams,a=e.areas,o=e.strategy,d=e.numGamesPerTeam,s=void 0===d?0:d,c=e.teamNames,h=void 0===c?[]:c,f=a;switch(void 0===o?"round-robin":o){case"pods":n<2?(r=E(n,h),t="round robin"):(r=q(n),t="pods");break;case"partial-round-robin":s<=0&&n>=2?(console.warn("Invalid numGamesPerTeam for partial-round-robin, defaulting to full round-robin."),r=E(n,h),t="round robin"):(r=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(void 0===e||e<2)return{schedule:[],games:0,teams:1===e&&1===t.length?t:0===t.length&&1===e?[1]:[],type:"partial round robin"};var n=t.length===e?t:Array.from({length:e},function(e,r){return r+1});if(r<=0)return{schedule:[],games:0,teams:n,type:"partial round robin"};var a=e-1;if(r>a&&e>1?(console.warn(`Requested ${r} games per team for ${e} teams. Capping at ${a} (full round-robin).`),r=a):r>=e&&e<=1&&(r=0),"function"==typeof i)m=i;else if(i&&"function"==typeof i.default)m=i.default;else if(i&&"function"==typeof i.roundrobin)m=i.roundrobin;else throw console.error("Roundrobin scheduler could not be loaded correctly. Type:",typeof i,i),Error("Roundrobin scheduler could not be loaded correctly.");var o=m(e,n),l=[];o&&o.forEach(function(e){e&&e.forEach(function(e){e&&e.length>=2&&l.push({teams:[e[0],e[1]]})})});var u=[],d={};n.forEach(function(e){return d[e]=0});var s=0,c=!0,h=!1,f=void 0;try{for(var m,p,y=l[Symbol.iterator]();!(c=(p=y.next()).done);c=!0){var v=p.value,g=v.teams[0],b=v.teams[1];(d[g]<r&&d[b]<=r||d[b]<r&&d[g]<=r)&&(u.push({id:`g${s++}`,round:0,teams:[g,b]}),d[g]++,d[b]++)}}catch(e){h=!0,f=e}finally{try{c||null==y.return||y.return()}finally{if(h)throw f}}for(var T=new Set,x=1;T.size<u.length;){var S=new Set,A=!0,$=!1,w=void 0;try{for(var B,k=u[Symbol.iterator]();!(A=(B=k.next()).done);A=!0){var M=B.value;if(!T.has(M.id)){var P=M.teams[0],E=M.teams[1];S.has(P)||S.has(E)||(M.round=x,T.add(M.id),S.add(P),S.add(E))}}}catch(e){$=!0,w=e}finally{try{A||null==k.return||k.return()}finally{if($)throw w}}if(S.size>0)x++;else if(T.size<u.length){var R=!0,O=!1,j=void 0;try{for(var I,C=u[Symbol.iterator]();!(R=(I=C.next()).done);R=!0){var G=I.value;T.has(G.id)||(G.round=x,T.add(G.id))}}catch(e){O=!0,j=e}finally{try{R||null==C.return||C.return()}finally{if(O)throw j}}x++}}return{schedule:u.sort(function(e,r){return e.round-r.round||e.id.localeCompare(r.id)}),games:u.length,teams:n,type:"partial round robin"}}(n,s,h),t="partial round robin");break;default:r=E(n,h),t="round robin"}if("round robin"===t||"partial round robin"===t){var m=Math.max(1,Math.floor(n/2));n<=1?f=1:a>m?f=m:a<=0&&(f=1)}return u(l({},r),{type:t,games:r.games,schedule:r.schedule,areas:f})},_={},H=function(e,r){return e.isBye?"BYE"===e.teams[0]?e.teams[1]:e.teams[0]:r+" "+e.id},W=function(e,r,t){return[H(e,t),H(r,t)]},L=function(e,r){return e.map(function(e){return e>r?"BYE":"Seed "+e})},U=function(e,r,t){return parseInt(e.toString()+r.toString()+t.toString())},X=function(e,r){var t=Math.floor(Math.log(e)/Math.log(2)),n=e-Math.pow(2,t);if(0===n)return Math.pow(2,r-t);var a=(e-2*n).toString(2).split("").reverse().join("");return(parseInt(a,2)<<r-a.length)+Math.pow(2,r-t-1)},J=function(e,r){var t=X(e,r);return[Math.pow(2,r)+1-t,t]},K=function(e,r){for(var t=[],n=1;n<=Math.pow(2,r-1);n+=1){var a=J(n,r);t.push({id:U(r,1,n),round:1,teams:L(a,e),isBye:a[0]>e||a[1]>e})}var o,i,l,u,d=0;for(o=2;o<=r;o+=1){for(i=1;i<=Math.pow(2,r-o);i+=1)l=t[d+2*i-2],u=t[d+2*i-1],t.push({id:U(r,o,i),round:o,teams:W(l,u,"Winner")});d+=Math.pow(2,r-o+1)}l&&u&&!l.isBye&&!u.isBye&&(t.splice(t.length-1,0,{id:U(r,o-1,1),round:o-1,teams:W(l,u,"Loser")}),t[t.length-1].id+=1);for(var s=0;s<t.length;s++){var n=t[s];if(n.isBye){n.isByeMatch=!0;var c=n.teams.find(function(e){return"BYE"!==e});c&&(n.teams=[c])}delete n.isBye}return t};_=function(e){var r={type:"knockout",games:0,schedule:[]};if(1!=arguments.length)throw Error("You must provide the number of teams to continue.");if(e<2)return r;var t=Math.ceil(Math.log(e)/Math.log(2)),n=K(e,t);return r.schedule=n,r.games=n.filter(function(e){return!e.isByeMatch}).length,r};var Q=function(e){var r=e.tourneyGames,t=e.playoffGames,n=e.gameTime,a=e.restTime,o=e.areas,i=e.playoffTime,l=e.playoffRest,u=function(e){return Math.floor(e/o)+e%o};return u(r)*(n+a)+u(t)*(i+l)},Z=function(e){var r=e.tourneySchedule,t=e.playoffSchedule;if(!r)throw Error("You must provide a tournament schedule to continue");if(!t)throw Error("You must provide a playoff schedule to continue");var n=[];if(r.schedule&&(n=n.concat(r.schedule.map(function(e){return l({},e)}))),t.schedule&&(n=n.concat(t.schedule.map(function(e){return l({},e)}))),n.length<2)return n;for(var a=1;a<n.length;a++)!function(e){var r=n[e-1],t=n[e];if(r.teams&&Array.isArray(r.teams)&&t.teams&&Array.isArray(t.teams)){var a=t.teams.filter(function(e){return r.teams.includes(e)});a.length>0&&(t.backToBackTeams=a)}}(a);return n},ee=function(e,r){var t=[],n=1,a=!0,o=!1,i=void 0;try{for(var u,d=e.schedule[Symbol.iterator]();!(a=(u=d.next()).done);a=!0)!function(){var e=u.value;if(t.length){var a=t[t.length-1];if(a.length<r){var o=[],i=!0,d=!1,s=void 0;try{for(var c,h=a[Symbol.iterator]();!(i=(c=h.next()).done);i=!0){var f=c.value;f.teams&&(o=o.concat(f.teams))}}catch(e){d=!0,s=e}finally{try{i||null==h.return||h.return()}finally{if(d)throw s}}var m=Array.isArray(e.teams)?e.teams:[];o.filter(function(e){return m.includes(e)}).length>0||n!==e.round?t.push([l({},e)]):a.push(l({},e))}else t.push([l({},e)])}else t.push([l({},e)]);n=e.round}()}catch(e){o=!0,i=e}finally{try{a||null==d.return||d.return()}finally{if(o)throw i}}return t},er=function(e){var r=e.tourneySchedule,t=e.playoffSchedule,n=e.areas;if(!r)throw Error("You must provide a tournament schedule to continue");if(!t)throw Error("You must provide a playoff schedule to continue");var a=[];a=ee({schedule:r.schedule?r.schedule.map(function(e){return l({},e)}):[]},n);var o=t.schedule?t.schedule.map(function(e){return l({},e)}):[];if((a=a.concat(ee({schedule:o},n))).length<2)return a;for(var i=1;i<a.length;i++)!function(e){var r=a[e-1],t=a[e];if(!r||!t)return;var n=r.flatMap(function(e){return e.teams&&Array.isArray(e.teams)?e.teams:[]});if(0!==n.length){var o=!0,i=!1,l=void 0;try{for(var u,d=t[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){var s=u.value;if(s.teams&&Array.isArray(s.teams)){var c=s.teams.filter(function(e){return n.includes(e)});c.length>0&&(s.backToBackTeams=c)}}}catch(e){i=!0,l=e}finally{try{o||null==d.return||d.return()}finally{if(i)throw l}}}}(i);return a},et=function(e){var r,t=e.tourneySchedule,n=e.playoffSchedule,a=e.areas;return 1===a?Z({tourneySchedule:t,playoffSchedule:n}):er({tourneySchedule:t,playoffSchedule:n,areas:a})},en={gameTime:33,restTime:7,areas:1,playoffTime:33,playoffRestTime:12},ea=function(e){var r,t=l({},en,e);if(t.teams<2)throw Error("You must have at least two teams to continue");var n=Math.max(1,t.areas||1),a=V({teams:t.teams,areas:n,strategy:t.schedulingStrategy,numGamesPerTeam:t.numGamesPerTeam}),o=((r=_)&&r.__esModule?r.default:r)(t.teams),i=Q({tourneyGames:a.games,playoffGames:o.games,gameTime:t.gameTime,restTime:t.restTime,areas:a.areas,playoffTime:t.playoffTime,playoffRest:t.playoffRestTime}),u=et({tourneySchedule:a,playoffSchedule:o,areas:a.areas}),d=l({},a);delete d.schedule;var s=l({},o);return delete s.schedule,{tourneySchedule:d,playoffSchedule:s,timeNeededMinutes:i,schedule:u}},eo=document.getElementById("root");eo?o.createRoot(eo).render(e(n.StrictMode,{children:e(function(){var t=c(a(null),2),n=t[0],o=t[1],i=c(a(null),2),d=i[0],s=i[1];return r("div",{style:{fontFamily:"Arial, sans-serif",maxWidth:"800px",margin:"0 auto",padding:"20px"},children:[e("header",{style:{textAlign:"center",marginBottom:"20px"},children:e("h1",{children:"Tourney Time Calculator"})}),r("main",{children:[e(P,{onSubmit:function(e){try{s(null),o(null);var r="string"==typeof e.teams?parseInt(e.teams,10):e.teams;if(isNaN(r))throw Error("Number of teams must be a valid number.");var t=u(l({},e),{teams:r}),n=ea(t);o(n)}catch(e){s(e.message||"An unknown error occurred."),o(null)}},defaultValues:{teams:0,gameTime:33,restTime:7,areas:1,playoffTime:33,playoffRestTime:12}}),e(M,{results:n,error:d})]}),e("footer",{style:{textAlign:"center",marginTop:"30px",fontSize:"0.9em",color:"#777"},children:e("p",{children:"Powered by tourney-time library."})})]})},{})})):console.error("Failed to find the root element");
//# sourceMappingURL=ui.6c22510c.js.map
