<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta http-equiv=content-type content="text/html; charset=utf-8"><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>Guide to upgrading from Babel 5 =&gt; 6 | A Place for Poor Examples</title><meta name=description content="Guide to upgrading from Babel 5 =&gt; 6"><meta name=keywords content="JavaScript, HTML, software, development, blog, examples, derby, cracking, coding, interview, CoffeeScript, node, express, .NET, C#, ASP.NET, Ember, Knockout, Angular, algorithms, analysis, analytics"><meta name=author content="Matt Blair"><meta name=google-site-verification content=pLaNxAD_C5VD6yWlQnX9ScKil_pSvI3lXz-9k4nOyYU><meta name=generator content="DocPad v6.79.4"><meta name=viewport content="width=device-width"><link rel="shortcut icon" href=/images/icons/favicon.ico><link rel=apple-touch-icon-precomposed sizes=144x144 href=/images/icons/apple-touch-icon-144-precomposed.png><link rel=apple-touch-icon-precomposed sizes=114x114 href=/images/icons/apple-touch-icon-114-precomposed.png><link rel=apple-touch-icon-precomposed sizes=72x72 href=/images/icons/apple-touch-icon-72-precomposed.png><link rel=apple-touch-icon-precomposed href=/images/icons/apple-touch-icon-57-precomposed.png><link rel=stylesheet href=/styles/twitter-bootstrap.css><link rel=stylesheet href=/styles/style.css><link rel=stylesheet href=/styles/mono-blue.css><link href=/atom.xml type=application/atom+xml rel=alternate title=Posts></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class=container><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=.navbar-collapse><span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href="/">A Place for Poor Examples</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li typeof=sioc:Page about=/pages/about.html><a href=/pages/about.html property=dc:title>About</a></li><li typeof=sioc:Page about=/pages/posts.html><a href=/pages/posts.html property=dc:title>Posts</a></li><li typeof=sioc:Page about=/pages/hockey-stuff.html><a href=/pages/hockey-stuff.html property=dc:title>Hobbies</a></li></ul></div></div></div><div class=container><section id=content class=content><div class=row><div class=col-lg-9><article id=git-replay-changes class=post><div class=post-content><h1 class=post-title>Guide to upgrading from Babel 5 =&gt; 6</h1><div class=post-date>Thu Dec 31 2015</div><h2 id=because-it-s-changed-since-october>Because it&#39;s changed since October</h2><p>There have been a bunch of <a href=https://medium.com/@malyw/how-to-update-babel-5-x-6-x-d828c230ec53#.kfcq7zxhx>guides on upgrading to babel 5</a>.</p><p>Even those written in the last two months are already out of date. Babel moves annoyingly fast.</p><p>Please note: this is up to date as of 6.3.13. As I write this, it might also be obsolete.</p><h3 id=skip-babel-core-and-babel-loader-user-babel-register->Skip babel-core and babel-loader. User babel-register.</h3><p>Due to some complaints about the various ways you could bootstrap babel into an app, there is now <a href=https://github.com/babel/babel/tree/master/packages/babel-register>babel-register</a>.</p><p>If you&#39;ve held onto using babel 5 until now, porting over couldn&#39;t be easier:</p><p>Replace <code>require(&#39;babel/register&#39;)</code> with <code>require(&#39;babel-register&#39;)</code>.</p><p>Assuming you&#39;ve installed the <code>babel-register</code> package.</p><h3 id=-babelrc>.babelrc</h3><p>You&#39;ll want to create a <code>.babelrc</code> file to store your babel settings. For most folks, the easiest port from 5 =&gt; 6 looks like this:</p><pre class=highlight><code class="hljs json">{
  <span class=hljs-attr>"presets"</span>: [<span class=hljs-string>"es2015"</span>]
}
</code></pre><p>This also assumes you&#39;ve installed the <code>babel-preset-es2015</code> package. This will give you most of the es2015 behavior you had. With caveats.</p><h3 id=exporting-and-destructing-objects-whoops>Exporting and Destructing Objects? Whoops</h3><p>Apparently in ES6 <a href=https://medium.com/@kentcdodds/misunderstanding-es6-modules-upgrading-babel-tears-and-a-solution-ad2d5ab93ce0#.6mclbhavc>you can&#39;t export and then destructure objects</a>.</p><p>Which means if you have any code that looks like this:</p><pre class=highlight><code class="hljs javascript"><span class=hljs-keyword>export</span> <span class=hljs-keyword>default</span> {
  <span class=hljs-attr>a</span>: <span class=hljs-number>1</span>,
  <span class=hljs-attr>b</span>: <span class=hljs-number>2</span>,
  <span class=hljs-attr>c</span>: <span class=hljs-number>3</span>
}
</code></pre><p>with an import like this:</p><pre class=highlight><code class="hljs javascript"><span class=hljs-keyword>import</span> {a,b,c} <span class=hljs-keyword>from</span> <span class=hljs-string>'./terrible-json-object'</span>;
</code></pre><p>you&#39;re in a bit of a pickle. You could upgrade your code to ES6 standards, OR you can install <code>babel-plugin-add-module-exports</code> in your codebase, and add the plugin to your <code>.babelrc</code>:</p><pre class=highlight><code class="hljs json">{
  <span class=hljs-attr>"presets"</span>: [<span class=hljs-string>"es2015"</span>],
  <span class=hljs-attr>"plugins"</span>: [<span class=hljs-string>"add-module-exports"</span>]
}
</code></pre><p>This restores the behavior of Babel 5 in this case, which while not strictly ES6 compliant, will at least allow you to upgrade without having to change a ton of code.</p><p>Crisis adverted.</p><h3 id=please-note-some-babel-5-features-are-missing-from-babel-6>PLEASE NOTE: Some Babel 5 features are missing from Babel 6</h3><p>One method I&#39;ve found missing is <code>Object.values</code>.</p><p><code>Object.values</code> is an <a href=http://www.2ality.com/2015/11/stage3-object-entries.html>ES7 stage 3 proposal</a> and is part of Babel 5 but there is no support for this functionality in Babel 6. Yet. Again, this might be out of date as of the writing of this article.</p><p>As of today this has not appeared in the official <a href="http://babeljs.io/docs/plugins/preset-stage-3/">Stage 3 plugin</a> from Babel.</p></div></article><footer><div id=disqus_thread></div><script type=text/javascript>
        var disqus_shortname = 'codetype';
        var disqus_identifier = 'git-replay-changes';
        var disqus_title = 'Guide to upgrading from Babel 5 =&gt; 6';

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></footer></div><div class="col-lg-3 hidden-xs hidden-sm"><nav class=link-list><h3>Recent Posts</h3><div class=recent-post><a class=title href=/posts/20180115-manager-conference-links.html>Manager Conference Links</a></div><div class=recent-post><a class=title href=/posts/20181121-elasticsearch-perf-work.html>ElasticSearch Perf - Highlighter Edition</a></div><div class=recent-post><a class=title href=/posts/20180908-moment-js-alternatives.html>Moment.js alternatives</a></div><div class=recent-post><a class=title href=/posts/20180601-manager-readme.html>Manager READMEs</a></div><div class=recent-post><a class=title href=/posts/20180305-elasticsearch-sharding-work.html>ElasticSearch sharding work</a></div><div class=recent-post><a class=title href=/posts/20171229-engineering-management-classes.html>Engineering Management Classes</a></div></nav></div></div></section></div><script defer src=//cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script defer src=//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js></script><script defer src=/vendor/twitter-bootstrap/dist/js/bootstrap.min.js></script><script defer src=/scripts/script.js></script><script defer src=/scripts/analytics.js></script></body></html>