<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta http-equiv=content-type content="text/html; charset=utf-8"><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>Ember vs Knockout - Property Comparison | A Place for Poor Examples</title><meta name=description content="Ember vs Knockout - Property Comparison"><meta name=keywords content="JavaScript, HTML, software, development, blog, examples, derby, cracking, coding, interview, CoffeeScript, node, express, .NET, C#, ASP.NET, Ember, Knockout, Angular, algorithms, analysis, analytics"><meta name=author content="Matt Blair"><meta name=google-site-verification content=pLaNxAD_C5VD6yWlQnX9ScKil_pSvI3lXz-9k4nOyYU><meta name=generator content="DocPad v6.79.4"><meta name=viewport content="width=device-width"><link rel="shortcut icon" href=/images/icons/favicon.ico><link rel=apple-touch-icon-precomposed sizes=144x144 href=/images/icons/apple-touch-icon-144-precomposed.png><link rel=apple-touch-icon-precomposed sizes=114x114 href=/images/icons/apple-touch-icon-114-precomposed.png><link rel=apple-touch-icon-precomposed sizes=72x72 href=/images/icons/apple-touch-icon-72-precomposed.png><link rel=apple-touch-icon-precomposed href=/images/icons/apple-touch-icon-57-precomposed.png><link rel=stylesheet href=/styles/twitter-bootstrap.css><link rel=stylesheet href=/styles/style.css><link rel=stylesheet href=/styles/mono-blue.css><link href=/atom.xml type=application/atom+xml rel=alternate title=Posts></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class=container><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=.navbar-collapse><span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href="/">A Place for Poor Examples</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li typeof=sioc:Page about=/pages/about.html><a href=/pages/about.html property=dc:title>About</a></li><li typeof=sioc:Page about=/pages/posts.html><a href=/pages/posts.html property=dc:title>Posts</a></li><li typeof=sioc:Page about=/pages/hockey-stuff.html><a href=/pages/hockey-stuff.html property=dc:title>Hobbies</a></li></ul></div></div></div><div class=container><section id=content class=content><div class=row><div class=col-lg-9><article id=ember-vs-knockout-property-comparison class=post><div class=post-content><h1 class=post-title>Ember vs Knockout - Property Comparison</h1><div class=post-date>Thu Mar 20 2014</div><h2 id=a-small-appropriate-comparison>A small, appropriate comparison</h2><p>At <a href=http://modcloth.com>ModCloth</a>, I&#39;ve been working on an internal application that uses <a href="http://emberjs.com/">Ember.js</a> as its front end framework. In learning Ember I&#39;ve noticed some interesting architectural decisions they&#39;ve made.</p><p>This article will concentrate on their Observable Models in comparison with how <a href="http://knockoutjs.com/">Knockout</a> built the same functionality.</p><p>TANGENT</p><p><a href="http://emberjs.com/">Ember.js</a> and <a href="http://knockoutjs.com/">Knockout</a> are great contrasts in the library vs framework debate in JS development.</p><p>Ember is</p><blockquote><p>A <strong>framework</strong> for creating ambitious web applications.</p></blockquote><p>(emphasis is mine).</p><p>Knockout is a <strong>library</strong> whose goal is to</p><blockquote><p>Simplify dynamic JavaScript UIs with the Model-View-View Model (MVVM) pattern.</p></blockquote><p>Ember is <a href="https://www.youtube.com/watch?v=jScLjUlLTLI">outspoken and proud of its framework status</a>. Knockout makes it clear that it is a small library for building <em>dynamic JavaScript UIs</em>.</p><p>Ember, while a year younger than Knockout, has SIX TIMES as many commits as Knockout. It&#39;s also 4 times the size (71kb vs 17kb, once minified and gzipped).</p><p>/TANGENT</p><h3 id=read-only-computed-properties>Read-only computed properties</h3><h4 id=ember>Ember</h4><pre class=highlight><code class="hljs javascript">  firstName: <span class=hljs-literal>null</span>,
  <span class=hljs-attr>lastName</span>: <span class=hljs-literal>null</span>,

  <span class=hljs-attr>fullName</span>: <span class=hljs-function><span class=hljs-keyword>function</span>(<span class=hljs-params></span>) </span>{
    <span class=hljs-keyword>return</span> <span class=hljs-keyword>this</span>.get(<span class=hljs-string>'firstName'</span>) + <span class=hljs-string>' '</span> + <span class=hljs-keyword>this</span>.get(<span class=hljs-string>'lastName'</span>);
  }.property(<span class=hljs-string>'firstName'</span>, <span class=hljs-string>'lastName'</span>)
</code></pre><h4 id=knockout>Knockout</h4><pre class=highlight><code class="hljs javascript">  <span class=hljs-keyword>this</span>.firstName = ko.observable(<span class=hljs-string>'Bob'</span>);
  <span class=hljs-keyword>this</span>.lastName = ko.observable(<span class=hljs-string>'Smith'</span>);

  <span class=hljs-keyword>this</span>.fullName = ko.computed(<span class=hljs-function><span class=hljs-keyword>function</span>(<span class=hljs-params></span>) </span>{
    <span class=hljs-keyword>return</span> <span class=hljs-keyword>this</span>.firstName() + <span class=hljs-string>' '</span> + <span class=hljs-keyword>this</span>.lastName();
  }, <span class=hljs-keyword>this</span>);
</code></pre><p>The differences here are trivial. Ember doesn&#39;t need you to tell it what properties to observe (all properties added to your models are observed). Ember uses getters and setters for each property.</p><p>Knockout asks you to state which properties you want to observe. Knockout then uses a named observable function instead of getters and setter.</p><h3 id=read-write-computed-properties>Read/write computed properties</h3><h4 id=ember>Ember</h4><pre class=highlight><code class="hljs javascript">  firstName: <span class=hljs-literal>null</span>,
  <span class=hljs-attr>lastName</span>: <span class=hljs-literal>null</span>,

  <span class=hljs-attr>fullName</span>: <span class=hljs-function><span class=hljs-keyword>function</span>(<span class=hljs-params>key, value</span>) </span>{
    <span class=hljs-comment>// setter</span>
    <span class=hljs-keyword>if</span> (<span class=hljs-built_in>arguments</span>.length &gt; <span class=hljs-number>1</span>) {
      <span class=hljs-keyword>var</span> nameParts = value.split(<span class=hljs-regexp>/\s+/</span>);
      <span class=hljs-keyword>this</span>.set(<span class=hljs-string>'firstName'</span>, nameParts[<span class=hljs-number>0</span>]);
      <span class=hljs-keyword>this</span>.set(<span class=hljs-string>'lastName'</span>,  nameParts[<span class=hljs-number>1</span>]);
    }

    <span class=hljs-comment>// getter</span>
    <span class=hljs-keyword>return</span> <span class=hljs-keyword>this</span>.get(<span class=hljs-string>'firstName'</span>) + <span class=hljs-string>' '</span> + <span class=hljs-keyword>this</span>.get(<span class=hljs-string>'lastName'</span>);
  }.property(<span class=hljs-string>'firstName'</span>, <span class=hljs-string>'lastName'</span>)
</code></pre><h4 id=knockout>Knockout</h4><pre class=highlight><code class="hljs javascript">  <span class=hljs-keyword>this</span>.firstName = ko.observable(<span class=hljs-string>'Planet'</span>);
  <span class=hljs-keyword>this</span>.lastName = ko.observable(<span class=hljs-string>'Earth'</span>);

  <span class=hljs-keyword>this</span>.fullName = ko.computed({
      <span class=hljs-attr>read</span>: <span class=hljs-function><span class=hljs-keyword>function</span> (<span class=hljs-params></span>) </span>{
          <span class=hljs-keyword>return</span> <span class=hljs-keyword>this</span>.firstName() + <span class=hljs-string>" "</span> + <span class=hljs-keyword>this</span>.lastName();
      },
      <span class=hljs-attr>write</span>: <span class=hljs-function><span class=hljs-keyword>function</span> (<span class=hljs-params>value</span>) </span>{
          <span class=hljs-keyword>var</span> lastSpacePos = value.lastIndexOf(<span class=hljs-string>" "</span>);
          <span class=hljs-keyword>if</span> (lastSpacePos &gt; <span class=hljs-number>0</span>) { <span class=hljs-comment>// Ignore values with no space character</span>
              <span class=hljs-keyword>this</span>.firstName(value.substring(<span class=hljs-number>0</span>, lastSpacePos)); <span class=hljs-comment>// Update "firstName"</span>
              <span class=hljs-keyword>this</span>.lastName(value.substring(lastSpacePos + <span class=hljs-number>1</span>)); <span class=hljs-comment>// Update "lastName"</span>
          }
      },
      <span class=hljs-attr>owner</span>: <span class=hljs-keyword>this</span>
  });
</code></pre><p>I think this scenario shows where Knockout really shine. I find the Knockout code easily readable. The fact that the Ember code needs comments to explain what part of the code is the setter vs getter is damning.</p><p>Also, the fact that the Ember code has to explicitly call out what properties it is watching is frustrating as well.</p><h3 id=forcing-a-property-to-recompute-every-time-its-called>Forcing a Property to Recompute Every Time its Called</h3><h4 id=knockout>Knockout</h4><pre class=highlight><code class="hljs javascript">  myViewModel.fullName = ko.computed(<span class=hljs-function><span class=hljs-keyword>function</span>(<span class=hljs-params></span>) </span>{
      <span class=hljs-keyword>return</span> myViewModel.firstName() + <span class=hljs-string>" "</span> + myViewModel.lastName();
  }).extend({ <span class=hljs-attr>notify</span>: <span class=hljs-string>'always'</span> });
</code></pre><h4 id=ember>Ember</h4><pre class=highlight><code class="hljs javascript">  fullName: <span class=hljs-function><span class=hljs-keyword>function</span>(<span class=hljs-params></span>) </span>{
    <span class=hljs-keyword>return</span> <span class=hljs-keyword>this</span>.get(<span class=hljs-string>'firstName'</span>) + <span class=hljs-string>' '</span> + <span class=hljs-keyword>this</span>.get(<span class=hljs-string>'lastName'</span>);
  }.property(<span class=hljs-string>'firstName'</span>, <span class=hljs-string>'lastName'</span>).volatile()
</code></pre><p>I think Ember gets the node here for the chainable extension method. Knockout&#39;s choice of passing in a extended configuration, while readable, seems a bit clunky to me.</p><h2 id=conclusion>Conclusion</h2><p>The biggest difference I see in the two frameworks in regards to Observable Models is the need of Ember to register property dependencies. This seems like a huge drawback to me - what if you change your code and forget to update the dependencies? Or what if you have a typo in writing in the dependencies?</p><p>Since Knockout existed before Ember, it makes me wonder why the Ember creators didn&#39;t incorporate Knockout into their framework.</p><p>Solving a problem again after it&#39;s been solved by someone else reminds me of this famous XKCD cartoon:</p><p><img src=http://imgs.xkcd.com/comics/standards.png alt="Competing Standards"></p><p>##Side Note - How does Knockout get away without explicitly defining dependencies?</p><h3 id=knockout-s-algorithm-for-dependency-tracking>Knockout&#39;s Algorithm for Dependency Tracking</h3><p>It’s actually very simple and rather lovely. The tracking algorithm goes like this:</p><blockquote><ol><li>Whenever you declare a computed observable, KO immediately invokes its evaluator function to get its initial value.</li><li>While your evaluator function is running, KO keeps a log of any observables (or computed observables) that your evaluator reads the value of.</li><li>When your evaluator finishes, KO sets up subscriptions to each of the observables (or computed observables) that you&#39;ve touched. The subscription callback is set to cause your evaluator to run again, looping the whole process back to step 1 (disposing of any old subscriptions that no longer apply).</li><li>KO notifies any subscribers about the new value of your computed observable.</li></ol></blockquote></div></article><footer><div id=disqus_thread></div><script type=text/javascript>
        var disqus_shortname = 'codetype';
        var disqus_identifier = 'ember-vs-knockout-property-comparison';
        var disqus_title = 'Ember vs Knockout - Property Comparison';

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></footer></div><div class="col-lg-3 hidden-xs hidden-sm"><nav class=link-list><h3>Recent Posts</h3><div class=recent-post><a class=title href=/posts/20180115-manager-conference-links.html>Manager Conference Links</a></div><div class=recent-post><a class=title href=/posts/20181121-elasticsearch-perf-work.html>ElasticSearch Perf - Highlighter Edition</a></div><div class=recent-post><a class=title href=/posts/20180908-moment-js-alternatives.html>Moment.js alternatives</a></div><div class=recent-post><a class=title href=/posts/20180601-manager-readme.html>Manager READMEs</a></div><div class=recent-post><a class=title href=/posts/20180305-elasticsearch-sharding-work.html>ElasticSearch sharding work</a></div><div class=recent-post><a class=title href=/posts/20171229-engineering-management-classes.html>Engineering Management Classes</a></div></nav></div></div></section></div><script defer src=//cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script defer src=//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js></script><script defer src=/vendor/twitter-bootstrap/dist/js/bootstrap.min.js></script><script defer src=/scripts/script.js></script><script defer src=/scripts/analytics.js></script></body></html>