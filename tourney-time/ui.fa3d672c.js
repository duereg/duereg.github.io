import{jsx as e,jsxs as r}from"react/jsx-runtime";import t,{useState as n}from"react";import a from"react-dom/client";import o from"roundrobin";function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(r){var n;n=t[r],r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n})}return e}function u(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):(function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t})(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function s(e,r){if(e){if("string"==typeof e)return l(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,r)}}function d(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,u=!1;try{for(a=a.call(e);!(i=(t=a.next()).done)&&(o.push(t.value),!r||o.length!==r);i=!0);}catch(e){u=!0,n=e}finally{try{i||null==a.return||a.return()}finally{if(u)throw n}}return o}}(e,r)||s(e,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=function(t){var a=t.onSubmit,o=t.defaultValues,i=d(n(o.teams||""),2),u=i[0],l=i[1],s=d(n(o.gameTime||33),2),f=s[0],c=s[1],h=d(n(o.restTime||7),2),m=h[0],p=h[1],y=d(n(o.areas||1),2),v=y[0],g=y[1],b=d(n(o.playoffTime||33),2),S=b[0],T=b[1],x=d(n(o.playoffRestTime||12),2),$=x[0],w=x[1],M={marginBottom:"10px",display:"flex",alignItems:"center"},j={marginRight:"10px",minWidth:"150px"},O={padding:"5px",border:"1px solid #ccc",borderRadius:"4px"};return r("form",{onSubmit:function(e){e.preventDefault();var r="string"==typeof u?parseInt(u,10):u;if(isNaN(r))return void alert("Please enter a valid number for teams.");a({teams:r,gameTime:f,restTime:m,areas:v,playoffTime:S,playoffRestTime:$})},style:{marginBottom:"20px",padding:"20px",border:"1px solid #eee",borderRadius:"5px"},children:[e("h2",{children:"Tournament Options"}),r("div",{style:M,children:[e("label",{style:j,htmlFor:"teams",children:"Number of Teams:"}),e("input",{style:O,type:"number",id:"teams",value:u,onChange:function(e){return l(""===e.target.value?"":parseInt(e.target.value,10))},required:!0,min:"0"})]}),r("div",{style:M,children:[e("label",{style:j,htmlFor:"gameTime",children:"Game Time (min):"}),e("input",{style:O,type:"number",id:"gameTime",value:f,onChange:function(e){return c(parseInt(e.target.value,10))},required:!0,min:"1"})]}),r("div",{style:M,children:[e("label",{style:j,htmlFor:"restTime",children:"Rest Time (min):"}),e("input",{style:O,type:"number",id:"restTime",value:m,onChange:function(e){return p(parseInt(e.target.value,10))},required:!0,min:"0"})]}),r("div",{style:M,children:[e("label",{style:j,htmlFor:"areas",children:"Playing Areas:"}),e("input",{style:O,type:"number",id:"areas",value:v,onChange:function(e){return g(parseInt(e.target.value,10))},required:!0,min:"1"})]}),r("div",{style:M,children:[e("label",{style:j,htmlFor:"playoffTime",children:"Playoff Game Time (min):"}),e("input",{style:O,type:"number",id:"playoffTime",value:S,onChange:function(e){return T(parseInt(e.target.value,10))},required:!0,min:"1"})]}),r("div",{style:M,children:[e("label",{style:j,htmlFor:"playoffRestTime",children:"Playoff Rest Time (min):"}),e("input",{style:O,type:"number",id:"playoffRestTime",value:$,onChange:function(e){return w(parseInt(e.target.value,10))},required:!0,min:"0"})]}),e("button",{type:"submit",style:{padding:"10px 15px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Calculate Schedule"})]})},c=function(t){var n=t.results,a=t.error;if(a)return r("div",{style:{color:"red",marginTop:"20px",padding:"10px",border:"1px solid red"},children:["Error: ",a]});if(!n)return e("div",{style:{marginTop:"20px"},children:"Submit the form to see results."});var o={marginTop:"15px",padding:"10px",border:"1px solid #ddd",borderRadius:"4px"},i={backgroundColor:"#f4f4f4",border:"1px solid #ddd",padding:"10px",overflowX:"auto",maxHeight:"400px"},u=function(t,n){return r("div",{style:o,children:[e("h3",{children:n}),r("p",{children:["Type: ",t.type]}),r("p",{children:["Games: ",t.games]}),t.areas&&r("p",{children:["Areas: ",t.areas]})]})};return r("div",{style:{marginTop:"20px"},children:[e("h2",{children:"Results"}),r("div",{style:o,children:[e("h3",{children:"Overall"}),r("p",{children:["Total Time Needed: ",function(e){if(e<0)return"Invalid input";if(0===e)return"0 minutes";var r=Math.floor(e/1440),t=e%1440,n=Math.floor(t/60),a=t%60,o=[];return(r>0&&o.push(`${r} day${r>1?"s":""}`),n>0&&o.push(`${n} hour${n>1?"s":""}`),a>0&&o.push(`${a} minute${a>1?"s":""}`),0===o.length&&e>0)?`${e} minute${e>1?"s":""}`:o.join(" ")}(n.timeNeededMinutes)]})]}),u(n.tourneySchedule,"Tournament Schedule"),u(n.playoffSchedule,"Playoff Schedule"),e("div",{style:o,children:function(t,n){if(!t||0===t.length)return e("p",{children:"No games in this schedule."});if(1===n||!Array.isArray(t[0])){var a=Array.isArray(t[0])?t.flat():t;return r("div",{children:[e("h4",{children:"Full Game Schedule (Single Area):"}),a.length>0?e("pre",{style:i,children:a.map(function(e){return`Round ${e.round}, Game ${e.id}: ${e.teams.join(" vs ")}`}).join("\n")}):e("p",{children:"No games scheduled for this area."})]})}var o=Array.from({length:n},function(){return[]});return t.forEach(function(e){e.forEach(function(e,r){r<n&&o[r].push(e)})}),r("div",{children:[e("h4",{children:"Full Game Schedule (Per Area):"}),o.map(function(t,n){return r("div",{style:{marginBottom:"10px"},children:[r("h5",{children:["Schedule for Area ",n+1]}),t.length>0?e("pre",{style:i,children:t.map(function(e){return`  Round ${e.round}, Game ${e.id}: ${e.teams.join(" vs ")}`}).join("\n")}):e("p",{children:"No games scheduled for this area."})]},n)})]})}(n.schedule,n.tourneySchedule.areas||1)})]})},h=function(e){var r,t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&arguments[3],void 0===e)throw RangeError("Invalid array length");if(e<2)return{schedule:[],games:0,teams:1===e?1===n.length?n:[1]:[],type:"round robin"};var a=n.length===e?n:Array.from({length:e},function(e,r){return r+1});if("function"==typeof o)t=o;else if(o&&"function"==typeof o.default)t=o.default;else throw Error("Roundrobin scheduler could not be loaded correctly.");var i=t(e,a).map(function(e,r){var t=[];if(e.forEach(function(e,n){e&&e.length>=2&&t.push({id:`g${r}-${n}`,round:r+1,teams:[e[0],e[1]]})}),a.length%2!=0&&e.length===(a.length-1)/2){var n=new Set;e.forEach(function(e){e&&e.forEach(function(e){return n.add(e)})});var o=!0,i=!1,u=void 0;try{for(var l,s=a[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var d=l.value;if(!n.has(d)){var f=a.length+r;t.push({id:`b${r}-${f}`,round:r+1,teams:[d],isByeMatch:!0});break}}}catch(e){i=!0,u=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw u}}}return t}).map(function(e,r){return e.filter(function(e){return null!==e}).map(function(e){var t={id:e.id||`g${r}-${e.teams&&e.teams.join?e.teams.join(""):Math.random()}`,round:e.round||r+1,teams:e.teams||[]};return e.isByeMatch&&(t.isByeMatch=!0),t})}).flat(1),u=i.filter(function(e){return!e.isByeMatch}).length;return{schedule:i,games:u,teams:a.slice(0,e),type:"round robin"}},m=function(e){if(null==e)throw Error("You must provide either the number of teams or a list of team names");var r,t=[];if("number"==typeof e){(r=e)<0&&(r=0);for(var n=1;n<=r;n++)t.push(n)}else Array.isArray(e)?(t=e,r=e.length):(r=0,t=[]);return{names:t,teams:r}},p=function(e,r){if(void 0===e||void 0===r||!Array.isArray(e))throw Error("Invalid arguments for teamsInPods: required parameters are missing or invalid.");var t=e.length,n=Math.floor(t/r),a=t%r>0?n+1:n;return r<=0?{}:e.reduce(function(e,r,t){var n;return e[n=0===a?"1":String(Math.floor(t%a)+1)]||(e[n]=[]),e[n].push(r),e},{})},y=function(e){var r=e%100;return r>3&&r<21?"th":["th","st","nd","rd"][r%10]||"th"},v=function(e,r,t){for(var n=[],a=0;a<e;a++)n[a]=[];for(var o=1;o<=r;o++){var i=String(o),u=t[i];if(u)for(var l=u.length,s=0;s<l;s++)n[s]&&n[s].push(`${s+1}${y(s+1)} Pod ${i}`)}return n},g=function(e){if(0===e.length)return e;var r=e.pop();return r&&(1===r.length&&e.length>0?e[e.length-1].push(r[0]):e.push(r)),e},b=function(e){if(!e||0===Object.keys(e).length)return[];var r,t=[],n=Object.values(e),a=Object.keys(e).length,o=n.map(function(e){return e.length}),i=0===o.length?-1/0:(r=Math).max.apply(r,function(e){if(Array.isArray(e))return l(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||s(o)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return i!==-1/0&&a>=2&&(t=v(i,a,e)).length>0&&g(t),t},S=function(e){var r=[];return e.forEach(function(e,t){var n=h(e.length,e,!1),a=u(i({},n),{title:`Division ${t+1}`,type:"division",division:t+1,schedule:n.schedule||[]});a.schedule.forEach(function(e){e.id=`Div ${t+1} Game ${e.id}`}),r.push(a)}),r},T=function(e){var r=function(r){if(Object.prototype.hasOwnProperty.call(e,r)){var n=e[r],a=h(n.length,n,!1),o=u(i({},a),{title:`Pod ${r}`,type:"pod",pod:r,schedule:a.schedule||[]});o.schedule.forEach(function(e){e.id=`Pod ${r} Game ${e.id}`}),t.push(o)}},t=[];for(var n in e)r(n);return t},x=function(e){if(!e||e.length<2)return[];var r=[],t=e.length;if(t>1){for(var n=(t-1)*2,a=0;a<n;a++)r[a]={id:`crossover-${a}`,teams:[],round:1};for(var o=1;o<t;o++){var i=e[o-1].length,u=(o-1)*2,l=r[u],s=r[u+1];l.id=`Div ${o}/${o+1} <-1->`,s.id=`Div ${o}/${o+1} <-2->`,l.teams.push(`${i-1}${y(i-1)} Div ${o}`),l.teams.push(`2nd Div ${o+1}`),s.teams.push(`${i}${y(i)} Div ${o}`),s.teams.push(`1st Div ${o+1}`)}}return r},$=function(e){return e.reduce(function(e,r){return e+r.games},0)},w=function(e){return e.map(function(e){return e.schedule}).flat(1).sort(function(e,r){var t="number"==typeof e.round?e.round:1/0,n="number"==typeof r.round?r.round:1/0;return t===1/0&&n===1/0?0:t-n})},M=function(e){var r=m(e),t=r.teams,n=r.names;if(t<2)return{games:0,schedule:[],divisions:[],pods:1===t?p(n,1):{}};var a=p(n,4),o=b(a),i=T(a),u=S(o),l=x(o),s=$(i),d=$(u),f=l.length,c=w(i),h=w(u);return{games:s+d+f,schedule:c.concat(h,l),divisions:o,pods:a}},j=function(e,r){if(e>8&&r<=Math.floor(e/4))t=M(e),n="pods";else{var t=h(e),n="round robin",a=Math.floor(e/2);r>a&&a>0?r=a:0===a&&e>1?r=1:0===r&&e>1&&(r=1),e<=1&&0===r&&(r=1),e<=1&&(r=1)}return{type:n,games:t.games,schedule:t.schedule,areas:r}},O={},A=function(e,r){return e.isBye?"BYE"===e.teams[0]?e.teams[1]:e.teams[0]:r+" "+e.id},E=function(e,r,t){return[A(e,t),A(r,t)]},P=function(e,r){return e.map(function(e){return e>r?"BYE":"Seed "+e})},R=function(e,r,t){return parseInt(e.toString()+r.toString()+t.toString())},I=function(e,r){var t=Math.floor(Math.log(e)/Math.log(2)),n=e-Math.pow(2,t);if(0===n)return Math.pow(2,r-t);var a=(e-2*n).toString(2).split("").reverse().join("");return(parseInt(a,2)<<r-a.length)+Math.pow(2,r-t-1)},B=function(e,r){var t=I(e,r);return[Math.pow(2,r)+1-t,t]},D=function(e,r){for(var t=[],n=1;n<=Math.pow(2,r-1);n+=1){var a=B(n,r);t.push({id:R(r,1,n),round:1,teams:P(a,e),isBye:a[0]>e||a[1]>e})}var o,i,u,l,s=0;for(o=2;o<=r;o+=1){for(i=1;i<=Math.pow(2,r-o);i+=1)u=t[s+2*i-2],l=t[s+2*i-1],t.push({id:R(r,o,i),round:o,teams:E(u,l,"Winner")});s+=Math.pow(2,r-o+1)}u&&l&&!u.isBye&&!l.isBye&&(t.splice(t.length-1,0,{id:R(r,o-1,1),round:o-1,teams:E(u,l,"Loser")}),t[t.length-1].id+=1);for(var d=0;d<t.length;d++){var n=t[d];if(n.isBye){n.isByeMatch=!0;var f=n.teams.find(function(e){return"BYE"!==e});f&&(n.teams=[f])}delete n.isBye}return t};O=function(e){var r={type:"knockout",games:0,schedule:[]};if(1!=arguments.length)throw Error("You must provide the number of teams to continue.");if(e<2)return r;var t=Math.ceil(Math.log(e)/Math.log(2)),n=D(e,t);return r.schedule=n,r.games=n.filter(function(e){return!e.isByeMatch}).length,r};var G=function(e){var r=e.tourneyGames,t=e.playoffGames,n=e.gameTime,a=e.restTime,o=e.areas,i=e.playoffTime,u=e.playoffRest,l=function(e){return Math.floor(e/o)+e%o};return l(r)*(n+a)+l(t)*(i+u)},N=function(e){var r=e.tourneySchedule,t=e.playoffSchedule;if(!r)throw Error("You must provide a tournament schedule to continue");if(!t)throw Error("You must provide a playoff schedule to continue");var n=[];return r.schedule&&(n=r.schedule),t.schedule&&(n=n.concat(t.schedule)),n},C=function(e,r){var t=[],n=1,a=!0,o=!1,i=void 0;try{for(var u,l=e.schedule[Symbol.iterator]();!(a=(u=l.next()).done);a=!0)!function(){var e=u.value;if(t.length){var a=t[t.length-1];if(a.length<r){var o=[],i=!0,l=!1,s=void 0;try{for(var d,f=a[Symbol.iterator]();!(i=(d=f.next()).done);i=!0){var c=d.value;c.teams&&(o=o.concat(c.teams))}}catch(e){l=!0,s=e}finally{try{i||null==f.return||f.return()}finally{if(l)throw s}}var h=Array.isArray(e.teams)?e.teams:[];o.filter(function(e){return h.includes(e)}).length>0||n!==e.round?t.push([e]):a.push(e)}else t.push([e])}else t.push([e]);n=e.round}()}catch(e){o=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}return t},k=function(e){var r=e.tourneySchedule,t=e.playoffSchedule,n=e.areas;if(!r)throw Error("You must provide a tournament schedule to continue");if(!t)throw Error("You must provide a playoff schedule to continue");var a=[];return C({schedule:r.schedule||[]},n).concat(C({schedule:t.schedule||[]},n))},F=function(e){var r=e.tourneySchedule,t=e.playoffSchedule,n=e.areas;return 1===n?N({tourneySchedule:r,playoffSchedule:t}):k({tourneySchedule:r,playoffSchedule:t,areas:n})},Y={gameTime:33,restTime:7,areas:1,playoffTime:33,playoffRestTime:12},q=function(e){var r,t=i({},Y,e);if(t.teams<2)throw Error("You must have at least two teams to continue");var n=Math.max(1,t.areas||1),a=j(t.teams,n),o=((r=O)&&r.__esModule?r.default:r)(t.teams),u=G({tourneyGames:a.games,playoffGames:o.games,gameTime:t.gameTime,restTime:t.restTime,areas:a.areas,playoffTime:t.playoffTime,playoffRest:t.playoffRestTime}),l=F({tourneySchedule:a,playoffSchedule:o,areas:a.areas}),s=i({},a);delete s.schedule;var d=i({},o);return delete d.schedule,{tourneySchedule:s,playoffSchedule:d,timeNeededMinutes:u,schedule:l}},W=document.getElementById("root");W?a.createRoot(W).render(e(t.StrictMode,{children:e(function(){var t=d(n(null),2),a=t[0],o=t[1],l=d(n(null),2),s=l[0],h=l[1];return r("div",{style:{fontFamily:"Arial, sans-serif",maxWidth:"800px",margin:"0 auto",padding:"20px"},children:[e("header",{style:{textAlign:"center",marginBottom:"20px"},children:e("h1",{children:"Tourney Time Calculator"})}),r("main",{children:[e(f,{onSubmit:function(e){try{h(null),o(null);var r="string"==typeof e.teams?parseInt(e.teams,10):e.teams;if(isNaN(r))throw Error("Number of teams must be a valid number.");var t=u(i({},e),{teams:r}),n=q(t);o(n)}catch(e){h(e.message||"An unknown error occurred."),o(null)}},defaultValues:{teams:0,gameTime:33,restTime:7,areas:1,playoffTime:33,playoffRestTime:12}}),e(c,{results:a,error:s})]}),e("footer",{style:{textAlign:"center",marginTop:"30px",fontSize:"0.9em",color:"#777"},children:e("p",{children:"Powered by tourney-time library."})})]})},{})})):console.error("Failed to find the root element");
//# sourceMappingURL=ui.fa3d672c.js.map
